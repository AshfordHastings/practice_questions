
# Networking Practice Questions

## SSL / TLS 

### **What is HTTPS, and how does it differ from HTTP?**

<details>

HTTPS differs from HTTP because HTTPS requires SSL or TLS to encrypt the data exchange, assuring that third parties cannot intercept the data being passed between the client and server, and that the data cannot be tampered with.

Additionally, HTTPS uses port 443 for communication, while HTTP uses port 80. Also, for a website to use HTTPS, it must receive a security certificate from a Certificate Authority (CA).
</details>
    
### **What is a Certificate Authority (CA), and what role does it play in the SSL ecosystem?**

<details>
A Certificate Authority issues digital certificates to website owners, that establish a trusted credential for a website, and that a website is who it says it is. CAs have limited to rigorous checks that it makes before issuing a certificate. First, the CA makes sure that the person requesting the certificate actually controls the website. Otherwise, an attacker could send a user trying to access a website the certificate from the CA and public key, and the user would respond with its symmetric key, that the false person can decode with a private key. The false person would then be able to read all encrypted messages. 

CAs are also responsible for revoking a certificate and its public key if the private key gets leaked. They are considered trust anchors. 

Certificates sign the SSL/TLS certifactes in a way that enables browsers to confirm their identity. The CAs have both a public key and a private key, with the browsers having the public keys installed. The owner of the website submits a Certificate Signing Request (CSR), when the owner adds the public key, the website identifying information, etc. The CA will then "sign" the certificate with its private key, which the CA keeps hidden. This is hierarchal, but basically, the browser has a public key for the CA, which it can use to confirm that that the Certificate Authority actually signed the SSL certificate with its private key. When it does this, it is able to confirm that the SSL certificate sent by the server is the cert that was verified and signed by the CA, and that the server is who it says it is. 
</details>

### **Explain the process of SSL handshake.**

<details>
An SSL handshake works as follows:
1. The browser establishes a connection with the server. The browser make a request for the server's SSL certificate. 
2. The browser assures that the certificate matches the domain name of the site, that it is not expired, and that it has been signed by a certificate authority, verifying that it is accurate, and that the information has not been tampered with.
3. The browser takes the public key from the SSL server response, chooses and algorithm, and encrypts a generated symmetric key on its own side with public key sent by the server.
4. The client sends the encrypted symmetric key to the server. The server then decrypts the symmetric key using its private key, which only it has access to. You can only use the public key to encrypt data, not decrypt, so only the browser can decrypt this.
5. Both the browser and the server switch to using the symmetric key, now that they securely agreed on this key using the public / private key. They begin to transfer data between one another by encrypting the data with the symmetric key. This is much quicker than using public key / private key the whole time. 
6. At the end of the session, the symmetric key is discarded. Another key will be generated in a given secure session. 
</details> 

### **What is a self-signed certificate, and why is it less trusted than those issued by a CA? And does a self signed certificate contain a signature that can be verified by the browser, and made with a private key?**

<details>
A self-signed certificate is still able to be verified by the browser. The big difference is that the public key used by the browser to confirm that the signature is valid is provided directly in the certificate. 

The server uses its own private key to put a signature on the SSL certificate. It adds the public key to the SSL cert, allowing anyone to confirm that the server does have the private key for the public key / private key combination. However, while the certificate is valid, and fine for being used in SSL, the valid certificate could have been generated by anyone using its own public / private key combination. There is no trusted authority that confirms that the person who generated the certificate is the owner of the website. 

While SSL communication is allowed, the lack of external validation makes them more susceptible to man-in-the-middle attacks.
</details>

### **What are the differences between a single-domain, multi-domain, and wildcard SSL certificate?**
<details>
- **Single Domain**: Secure a single qualified domain name or subtomain.
- **Multi-Domain**: Certificate for securing multiple domain names.
- **Wildcard**: Would allow for mail.google.com, shop.google.com. 
</details>

### **What is the role of cipher suites in SSL/TLS?**
<details>
Cipher suites are the chosen algoithms using in an SSL/TLS handshake for each step, proposed by the client by priority, and chosen by the server. The different steps where a protocol is chosen are:
- Secret Key Exchange - The algorithm that will be used to encrypt the symmetric key that is excrypted using the public key, and decrypted using the private key. This includes RSA, ECDHE, Diffie-Hellman.
- Authentication - Verifies the identity of the server. Uses RSA
- Encryption - How data is encrypted and transmitted between server and client. Algos like AES, ChaCha20 and others are used.
- MAC - Ensures that the data has not been altered. HMAC is widely used. 
</details>

### **What is RSA?**
<details>
RSA (Rivest-Shamir-Adleman) is one of the first public-key cryptosystems and is widely used for secure data transmission. Invented in 1977 by Ron Rivest, Adi Shamir, and Leonard Adleman, RSA remains significant in the field of cryptography. Here’s a breakdown of what RSA is and how it works:

1. **Public-Key Cryptography**: Unlike symmetric-key algorithms, which use the same key for both encryption and decryption, RSA uses a pair of keys: a public key for encryption and a private key for decryption. This allows anyone to encrypt data using the public key, but only the holder of the private key can decrypt it.

2. **Key Generation**:
- RSA keys are generated through a process that starts with the selection of two large prime numbers. These numbers are then used to produce the public and private keys, which are mathematically linked.
- The public key consists of the modulus (a large number obtained by multiplying the two chosen primes) and a public exponent. The private key consists of the same modulus and a private exponent.

3. **Encryption and Decryption**:
- **Encryption**: To encrypt a message, RSA converts the message into a number smaller than the modulus (usually through a process known as padding) and then raises it to the power of the public exponent modulo the modulus.
- **Decryption**: The ciphertext is decrypted by raising it to the power of the private exponent modulo the modulus. Due to the mathematical properties of the keys, this reverses the encryption process and yields the original message.

4. **Digital Signatures**: RSA can also be used for digital signatures. A message is signed by encrypting it (or a hash of it) with a private key. Anyone can verify the signature using the corresponding public key, ensuring the message integrity and origin authenticity.

5. **Security**: The security of RSA is based on the difficulty of factoring large numbers into their prime components, a problem that currently has no efficient solution for large enough primes. However, the strength of RSA encryption directly depends on the key size, with larger keys providing stronger security.

6. **Usage**: RSA is used in a variety of applications, including SSL/TLS for securing web traffic, digital signatures, secure remote access, and more. Despite the emergence of new algorithms, especially those based on elliptical curve cryptography (ECC), RSA remains prevalent due to its simplicity and widespread support.

RSA’s ability to secure confidential data, authenticate the sender, and ensure data integrity through digital signatures makes it a cornerstone of modern cryptographic practices.
</details>

### **What are X.509 Certificates?**
<details>
X.509 certificates serve as a form of digital identity for entities such as websites, individuals, or organizations. They are issued by trusted entities called Certificate Authorities (CAs), which verify the certificate holder's identity before issuing the certificate.

Components of an X.509 Certificate: An X.509 certificate includes several key pieces of information, such as:
- Subject: The entity the certificate represents, typically including a name and other identifying information.
- Issuer: The Certificate Authority that issued the certificate.
- Serial Number: A unique identifier for the certificate.
- Validity Period: The date range during which the certificate is considered valid.
- Public Key: The public key of the entity to which the certificate is issued.
- Signature: The digital signature of the issuer, verifying the certificate's authenticity.
- Public Key Infrastructure (PKI): X.509 certificates are a cornerstone of PKI, a system for managing public-key encryption. In a PKI, the CA acts as a trusted third party that issues, revokes, and manages certificates, thereby facilitating secure communication and transaction authentication over networks.
</details>

### **What is a Certificate Signing Request?**
<details>
A CSR (Certificate Signing Request) is a block of encoded text that an applicant submits to a Certificate Authority (CA) to apply for a digital certificate. It contains the public key that will be included in the certificate and information about the applicant, such as the organization name, common name (domain name), locality, and country. The CSR is used by the CA to create and issue a digital certificate that can be used for secure communications.
</details>


### **What commands can be used to create a secret?**
<details>

```
openssl genrsa -out mydomain.key 2048
```
</details>

### **What commands need to be ran on a Mac to add a self-signed certificate to my Mac's keychain?**
<details>

```
sudo security add-trusted-cert -d -r trustRoot -k /Library/Keychains/System.keychain flashcard.app.crt 
security find-certificate -c "flashcard.app" (Which is the CN of the cert)
```
To delete:
```
sudo security delete-certificate -c flashcard.app -t /Library/Keychains/System.keychain 
```
</details>

### **What is a Subject Alternate Name (SAN), why is it needed, and how to you include this when generating certificates?**
<details>
A Subject Alternative Name (SAN) is an extension to the X.509 specification that allows users to specify additional host names for a single SSL certificate. This is useful for securing multiple domain names, subdomains, or IP addresses with a single certificate.

A SAN is a required addon to SSL certificates for many modern browsers.

```
openssl req -new -key mydomain.key -out mydomain.csr -addext "subjectAltName = DNS:flashcard.app, DNS:www.flashcard.app"
openssl req -new -key flashcard.app.key -addext "subjectAltName = DNS:flashcard:app, DNS:www.flashcard.app" -out flashcard.app.csr
openssl x509 -req -in flashcard.app.csr -signkey flashcard.app.key -out flashcard.app.crt -days 365 -extfile openssl.cnf -extensions v3_req
```
</details>

